#+title: Readme

* Description

This is a game that meant for the use in an event where teams can compete by writing agents for their tank.
The game is meant to be similar to [[https://miiwiki.org/wiki/Tanks!][Wii Tanks!]], but with more complicated controls.
The teams can control the individual accelerations of the two tracks, as well as the acceleration of the turret.

#+begin_src
Folder Structure
+- server     | Server that also displas the game.
+- client     | Reference implementation for a client.
\- server.bak | Old version of the server (here for reference).
#+end_src

* Communication Protocol
- all messages done trough UDP
** Client to server
*** Connect
- self port: ~2~ bytes
*** Control
| client secret       | ~u128~     | ~16~ bytes |
| track acceleration  | ~[f32; 2]~ | ~8~ bytes  |
| turret acceleration | ~f32~      | ~4~ bytes  |
| shoot               | ~bool~     | ~1~ BIT    |
** Server to client
*** Map Changed
- client secret: ~16~ bytes
- map
  - walls
    | origin    | ~[f32; 2]~ | ~8~ bytes |
    | dir * len | ~[f32; 2]~ | ~8~ bytes |
*** State
- client secret: ~16~ bytes
- tanks state: max. 8 at a time
  | position         | ~[f32; 2]~ | ~8~ bytes |
  | facing           | ~[f32; 2]~ | ~8~ bytes |
  | turret direction | ~[f32; 2]~ | ~8~ bytes |
- bullet state: max. 128 at a time
  | position  | ~[f32; 2]~ | ~8~ bytes |
  | direction | ~[f32; 2]~ | ~8~ bytes |
*** Disconnected
no data
